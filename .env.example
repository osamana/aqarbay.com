# =================================================================
# AqarBay - Environment Variables Template for Dokploy Deployment
# =================================================================
# Copy this file and set actual values in Dokploy's environment variables section

# =================================================================
# GENERAL CONFIGURATION
# =================================================================
# Main domain for your deployment
DOMAIN=aqarbay.com

# =================================================================
# DATABASE CONFIGURATION (PostgreSQL)
# =================================================================
POSTGRES_DB=aqarbay
POSTGRES_USER=aqarbay
# IMPORTANT: Change this to a strong password
POSTGRES_PASSWORD=your-strong-postgres-password-here

# =================================================================
# JWT AUTHENTICATION
# =================================================================
# Generate a secure random string (use: openssl rand -hex 32)
JWT_SECRET=your-jwt-secret-key-here-change-this-in-production
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=15
REFRESH_TOKEN_EXPIRE_DAYS=7

# =================================================================
# MINIO (S3-Compatible Storage)
# =================================================================
MINIO_ROOT_USER=minioadmin
# IMPORTANT: Change this to a strong password
MINIO_ROOT_PASSWORD=your-strong-minio-password-here
MINIO_BUCKET=aqarbay
# Public URLs for MinIO
MINIO_PUBLIC_URL=https://s3.aqarbay.com
MINIO_CONSOLE_URL=https://admin.s3.aqarbay.com

# =================================================================
# MEILISEARCH (Search Engine)
# =================================================================
# Generate a secure random string
MEILI_MASTER_KEY=your-meilisearch-master-key-here-change-this

# =================================================================
# API CONFIGURATION
# =================================================================
# Your API domain (typically api.yourdomain.com)
API_URL=https://api.aqarbay.com

# =================================================================
# WEB FRONTEND CONFIGURATION
# =================================================================
# Public API URL accessible from browsers
NEXT_PUBLIC_API_URL=https://api.aqarbay.com
# Main website URL
PUBLIC_WEB_ORIGIN=https://aqarbay.com
# MinIO public URL for images
NEXT_PUBLIC_MINIO_URL=https://s3.aqarbay.com

# =================================================================
# ADMIN USER (Initial Setup)
# =================================================================
# These are used to create the first admin user
ADMIN_EMAIL=admin@aqarbay.com
ADMIN_PASSWORD=change-this-strong-password
ADMIN_FULL_NAME=Admin User

# =================================================================
# OPTIONAL: EMAIL CONFIGURATION (For future features)
# =================================================================
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASSWORD=your-app-password
# FROM_EMAIL=noreply@aqarbay.com

# =================================================================
# OPTIONAL: REDIS (Already configured in docker-compose)
# =================================================================
REDIS_URL=redis://redis:6379/0

# =================================================================
# NOTES FOR PRODUCTION DEPLOYMENT
# =================================================================
# 1. Generate strong passwords for all *_PASSWORD variables
# 2. Generate secure random keys for JWT_SECRET and MEILI_MASTER_KEY
# 3. Update all domain references from aqarbay.com to your actual domain
# 4. In Dokploy, configure domains:
#    - aqarbay.com -> web service (port 3000)
#    - api.aqarbay.com -> api service (port 8000)
#    - s3.aqarbay.com -> minio service (port 9000)
#    - admin.s3.aqarbay.com -> minio console (port 9001)
# 5. Enable SSL/TLS certificates in Dokploy for all domains
# 6. After first deployment, run migrations and create admin user:
#    docker-compose exec api alembic upgrade head
#    docker-compose exec api python -m app.scripts.create_admin
